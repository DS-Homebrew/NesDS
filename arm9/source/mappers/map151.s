@---------------------------------------------------------------------------------
.section .text,"ax"
@---------------------------------------------------------------------------------
	#include "equates.h"
@---------------------------------------------------------------------------------	
	.global mapper151init
@---------------------------------------------------------------------------------
mapper151init:
@---------------------------------------------------------------------------------
	.word write0,write1,write2,write3

	ldrb_ r0,cartflags
	orr r0,r0,#VS
	strb r0,[r1]

	mov pc,lr
@---------------------------------------------------------------------------------
write0:
@---------------------------------------------------------------------------------
	cmp addy,#0x8000
	beq map89_
@---------------------------------------------------------------------------------
write1:
@---------------------------------------------------------------------------------
	cmp addy,#0xa000
	beq mapAB_
@---------------------------------------------------------------------------------
write2:
@---------------------------------------------------------------------------------
	cmp addy,#0xc000
	beq mapCD_
@---------------------------------------------------------------------------------
write3:
@---------------------------------------------------------------------------------
	cmp addy,#0xe000
	beq chr0123_
	cmp addy,#0xf000
	beq chr4567_
	b empty_W
@---------------------------------------------------------------------------------

