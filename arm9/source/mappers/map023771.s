;@----------------------------------------------------------------------------
	#include "equates.h"
;@----------------------------------------------------------------------------
	.global mapper2init
	.global mapper3init
	.global mapper7init
	.global mapper71init
	.global mapper180init

;@----------------------------------------------------------------------------
.section .text,"ax"
;@----------------------------------------------------------------------------
mapper2init:
;@----------------------------------------------------------------------------
	.word map89AB_,map89AB_,map89AB_,map89AB_
	bx lr
;@----------------------------------------------------------------------------
mapper3init:
;@----------------------------------------------------------------------------
	.word chr01234567_,chr01234567_,chr01234567_,chr01234567_
	bx lr
;@----------------------------------------------------------------------------
mapper7init:
;@----------------------------------------------------------------------------
	.word write0,write0,write0,write0
	bx lr
;@----------------------------------------------------------------------------
mapper71init:
;@----------------------------------------------------------------------------
	.word map71w,void,map89AB_,map89AB_
	adr r0, map71wl
	str_ r0, m6502WriteTbl+12
	bx lr
;@----------------------------------------------------------------------------
mapper180init:
;@----------------------------------------------------------------------------
	.word mapCDEF_,mapCDEF_,mapCDEF_,mapCDEF_
	bx lr
;@----------------------------------------------------------------------------
map71w:
	tst addy,#0x1000
	bxeq lr
	tst r0,#0x10
	b mirror1_

;@----------------------------------------------------------------------------
write0:
;@----------------------------------------------------------------------------
	stmfd sp!,{r0,lr}
	tst r0,#0x10
	bl mirror1_
	ldmfd sp!,{r0,lr}
	b map89ABCDEF_
;@----------------------------------------------------------------------------
map71wl:
	and r1, addy, #0xE000
	cmp r1, #0x6000
	bxne lr
	b map89AB_
